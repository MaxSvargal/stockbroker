{"version":3,"sources":["webpack:///webpack/bootstrap 063a85e2644fcbe90452","webpack:///external \"react-hyperscript-helpers\"","webpack:///external \"react\"","webpack:///./shared/actions/index.js","webpack:///external \"react-redux\"","webpack:///./const/index.js","webpack:///external \"redux-saga/effects\"","webpack:///external \"redux-act\"","webpack:///./server/sagas/selectors.js","webpack:///./server/utils/index.js","webpack:///./shared/reducers/helpers.js","webpack:///./client/components/BotLog.js","webpack:///./server/sagas/trade.js","webpack:///external \"bignumber.js\"","webpack:///external \"react-router-dom\"","webpack:///external \"redux\"","webpack:///external \"redux-saga\"","webpack:///./server/renderer.js","webpack:///./server/store.js","webpack:///external \"express\"","webpack:///./client/components/Actions.js","webpack:///./client/components/App.js","webpack:///./client/components/ChunksAddForm.js","webpack:///./client/components/CurrencyStats.js","webpack:///./client/components/FinalCurrentResult.js","webpack:///./client/components/FullMode.js","webpack:///./client/components/MyOrders.js","webpack:///./client/components/SimpleMode.js","webpack:///./client/components/SimpleRate.js","webpack:///./client/components/Table.js","webpack:///./client/components/TradeTable.js","webpack:///./client/utils/index.js","webpack:///./server/index.html.js","webpack:///./server/sagas/index.js","webpack:///./server/sagas/poloniex-public.js","webpack:///./server/sagas/stats.js","webpack:///./server/sagas/wallet.js","webpack:///./server/services/poloniex.js","webpack:///./server/services/poloniex.wss.js","webpack:///./shared/reducers/index.js","webpack:///./shared/reducers/myOrders.js","webpack:///./shared/reducers/publicLogs.js","webpack:///./shared/reducers/wallet.js","webpack:///external \"autobahn\"","webpack:///external \"crypto-js/hmac-sha512\"","webpack:///external \"debounce\"","webpack:///external \"deep-equal\"","webpack:///external \"node-fetch\"","webpack:///external \"nonce\"","webpack:///external \"pouchdb\"","webpack:///external \"react-dom/server\"","webpack:///external \"react-router\"","webpack:///external \"react-throttle-render\"","webpack:///external \"redux-pouchdb\"","webpack:///./server/worker.js"],"names":[],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AChEA,sD;;;;;;ACAA,kC;;;;;;;;;ACAuB;;AAEvB;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;;;;;;;AC7BA,wC;;;;;;;ACAA,OAAO,WAAW,OAAO,EAAE;;AAE3B;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;;;;;;;ACRA,+C;;;;;;ACAA,sC;;;;;;;;ACAuB;;AAEvB;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;;AAEA;AACA;AACA;AACA;AAAA;AAAA;;AAEA;AACA;AACA;AACA;AAAA;AAAA;;AAEA;AACA;AAAA;AAAA;;AAEA;AACA;AAAA;AAAA;;AAEA;AACA;AAAA;AAAA;;AAEA;AACA;AAAA;AAAA;;;;;;;;ACjCA;;AAEA;AAAA;AAAA;;;;;;;;ACFA;AAAA;AAAA;;AAEA;AACA;AAAA;AAAA;;AAEA;AACA;AACA;AACA;AAAA;AAAA;;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;;;;;;;;;;;;;;;ACdoB;AACF;AACA;AACG;;AAErB;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB;;AAEA,kGAAgB,qBAAqB;AACrC,6FAAW,qCAAqC,KAAK,iGAAoB,GAAG,QAAQ;AACpF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA,0BAA0B,cAAc;AACxC,IAAI,oDAAoD;;AAExD;;;;;;;;;;;;;;;;AC5CkC;AACb;AACiE;AAClC;;AAEpD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,WAAW,mBAAmB;AAC9B;AACA;AACA,KAAK;;AAEL,8MAAoD,KAAK,YAAY,UAAU,UAAU,WAAW,YAAY,OAAO;AACvH,oOAA0E,mBAAmB;AAC7F,GAAG;AACH,iMAAuC,KAAK;AAC5C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,WAAW,mBAAmB;AAC9B;AACA;AACA,KAAK;;AAEL,8MAAoD,KAAK,YAAY,UAAU,UAAU,WAAW,aAAa,OAAO;AACxH,oOAA0E,mBAAmB;AAC7F,GAAG;AACH,iMAAuC,KAAK;AAC5C;AACA;;;;;;;ACvEA,yC;;;;;;ACAA,6C;;;;;;ACAA,kC;;;;;;ACAA,uC;;;;;;;;;;;;;;;;;ACAyB;AACN;AACc;AACrB;AACZ;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gJAAiB,QAAQ;AACzB,2JAAiB,UAAU;AAC3B;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;;;;;;;;ACrBA;AACgD;AACH;AAC7C;;AAEA;AACA;;AAEA;AACA;AACA,mGAA2D,qBAAqB;;AAEhF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;ACzBA,oC;;;;;;;;;;;;;;;;;;;ACA+B;AACb;AACG;AACrB;AACwC;AACqC;;AAE7E;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,mBAAmB,gBAAgB;AACnC,oCAAoC,iBAAiB;AACrD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,WAAW,gEAAgE;AAC3E;AACA;AACA;AACA,iBAAiB,iCAAiC;;AAElD;AACA,2FAAS,wBAAwB;AACjC,2FAAS,yCAAyC;AAClD,6FAAW,oBAAoB;;AAE/B,gBAAgB,oBAAoB;AACpC,kBAAkB,oBAAoB;AACtC,sBAAsB,sBAAsB;AAC5C,oBAAoB,qBAAqB;AACzC,oBAAoB,qBAAqB;AACzC;AACA,kBAAkB,oBAAoB;AACtC,sBAAsB,sBAAsB;AAC5C,oBAAoB,qBAAqB;AACzC,oBAAoB,qBAAqB;AACzC;AACA,kBAAkB,oBAAoB;AACtC,sBAAsB,sBAAsB;AAC5C,oBAAoB,qBAAqB;AACzC,oBAAoB,qBAAqB;AACzC;AACA,kBAAkB,oBAAoB;AACtC,sBAAsB,sBAAsB;AAC5C,oBAAoB,qBAAqB;AACzC,oBAAoB,qBAAqB;AACzC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,+FAAa,oBAAoB;AACjC,iGAAe,oBAAoB;AACnC,qGAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,iGAAe,oBAAoB;AACnC;AACA;AACA;AACA,aAAa;AACb;AACA,iGAAe,oBAAoB;AACnC;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,0BAA0B,6DAA6D;AACvF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;;ACjMoB;AACO;AACM;;AAEjC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,kGAAgB,qBAAqB;AACrC,6FAAW,yBAAyB;AACpC,wJAAoB,2EAA2E;AAC/F,wJAAoB,kEAAkE;AACtF,wJAAoB,oEAAoE;AACxF,wJAAoB,qEAAqE;AACzF;AACA;AACA,sJAAkB,kGAAgD;AAClE,sJAAkB,uFAAqC;AACvD,sJAAkB,yFAAuC;AACzD,sJAAkB,yFAAuC;AACzD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;AC5DoB;AAC0B;AAC9C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,uBAAuB;;AAElC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mBAAmB,wDAAwD;AAC3E;;AAEA;AACA,WAAW,eAAe;AAC1B;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,WAAW,eAAe;AAC1B;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,WAAW,0BAA0B;AACrC;;AAEA,kGAAgB,oBAAoB;AACpC,6FAAW,oBAAoB;AAC/B,iGAAe,sBAAsB,WAAW,aAAa;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET,iGAAe,sBAAsB,WAAW,aAAa;AAC7D;AACA;AACA,gCAAgC;AAChC;AACA;AACA,6FAAW,oBAAoB;AAC/B,iGAAe,sBAAsB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET,iGAAe,sBAAsB,KAAK,aAAa;AACvD;AACA;AACA,gCAAgC;AAChC;AACA;AACA,6FAAW,oBAAoB;AAC/B,iGAAe,sBAAsB,oBAAoB,aAAa;AACtE;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET,iGAAe,sBAAsB,KAAK,aAAa;AACvD;AACA;AACA,gCAAgC;AAChC;AACA;AACA,6FAAW,2BAA2B;AACtC;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;ACnKoB;AACF;AACW;;AAE7B;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,cAAc,aAAa;AAC3B;AACA;AACA;AACA;;AAEA;AACA,0CAA0C,UAAU,6BAA6B,EAAE;AACnF;;AAEA;AACA,WAAW,oBAAoB;AAC/B,WAAW,cAAc;AACzB;;AAEA,kGAAgB,qBAAqB;AACrC;AACA,4FAAU,mBAAmB;AAC7B;AACA;AACA,iGAAe,wBAAwB;AACvC;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,iGAAe,uBAAuB;AACtC;AACA;AACA;AACA;AACA,aAAa;AACb,mGAAiB,kBAAkB;AACnC,mGAAiB,uBAAuB;AACxC,sHAAoC,sBAAsB,OAAO,YAAY,GAAG,0BAA0B;AAC1G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0BAA0B,0BAA0B;AACpD,IAAI,6CAA6C;;AAEjD;;;;;;;;;;;;;;ACpJoB;AACF;AACA;;AAElB;AACA;AACA,WAAW,qBAAqB;AAChC;AACA;AACA;;AAEA,kGAAgB,qBAAqB;AACrC,iHAA+B,oCAAoC;AACnE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,oCAAoC,UAAU,aAAa,UAAU;AACrE;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA,0BAA0B,qBAAqB,OAAO,qBAAqB;AAC3E;;;;;;;;;;;;;;;ACtCoB;AACF;;AAElB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,kGAAgB,qBAAqB;AACrC,6FAAW,uBAAuB;AAClC,+FAAa,yBAAyB;AACtC;AACA,iGAAe,0BAA0B;AACzC;AACA;AACA;AACA,+FAAa,sBAAsB;AACnC;AACA;AACA;AACA,cAAc,oBAAoB;AAClC,sBAAsB,MAAM,OAAO,YAAY;AAC/C,cAAc,oEAAoE;AAClF,sBAAsB,MAAM,OAAO,YAAY;AAC/C,cAAc,8DAA8D;AAC5E;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;AC9DoB;AACF;AAC0B;;AAE5C;AACA;AACA;AACA;AACA,6DAA6D,MAAM;AACnE,mEAAmE,QAAQ;AAC3E,YAAY,SAAS,GAAG,WAAW;AACnC;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,iDAAiD;AAC5D;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,+FAAa,sBAAsB;AACnC,iGAAe,sBAAsB;AACrC,gGAAc,mBAAmB;AACjC,kGAAgB,mBAAmB;;AAEnC;AACA,kGAAgB,0DAA0D;AAC1E;AACA;AACA,yHAAuC,2BAA2B;AAClE,kHAAgC,2BAA2B;AAC3D;AACA;AACA,8BAA8B,IAAI;AAClC;AACA;AACA;AACA;AACA;AACA,6FAAW,oBAAoB;AAC/B,+FAAa,SAAS,mBAAmB,EAAE;AAC3C,+FAAa,SAAS,mBAAmB,EAAE;AAC3C,+FAAa,SAAS,mBAAmB,EAAE;AAC3C,+FAAa,SAAS,mBAAmB,EAAE;AAC3C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0BAA0B,iDAAiD;AAC3E,IAAI,iDAAiD;;AAErD;;;;;;;;;;;;;;ACzFoB;AACF;;AAElB;AACA;;AAEA;AACA;AACA;;AAEA,kGAAgB,qBAAqB;AACrC;AACA,6FAAW,0BAA0B;AACrC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;ACnCoB;AACF;AACA;AACK;;AAEvB;AACA;AACA,WAAW,WAAW;AACtB;;AAEA,kGAAgB,qBAAqB;AACrC,6FAAW,qBAAqB;AAChC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0BAA0B,aAAa;AACvC,IAAI,oFAAqC;;AAEzC;;;;;;;;;;;;;;;;AClC+B;AACa;AAC5C;AACA;;AAEA;AACA;AACA;AACA;AACA,6DAA6D,MAAM;AACnE,mEAAmE,QAAQ;AAC3E,YAAY,SAAS,GAAG,WAAW;AACnC;;;AAGA;AACA;AACA;AACA;;AAEA;AACA,WAAW,uBAAuB;AAClC;;AAEA,kGAAgB,qBAAqB;AACrC,6FAAW,sBAAsB;AACjC,+FAAa,sBAAsB;AACnC,iGAAe,sBAAsB;AACrC,gGAAc,mBAAmB;AACjC,kGAAgB,mBAAmB;;AAEnC;AACA,kGAAgB,mDAAmD;AACnE;AACA;AACA,+GAA6B,2BAA2B;AACxD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;;AAEA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,+BAA+B;AAC/B,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;ACtFoB;AACF;AACA;AAClB;;AAEA;AACA;AACA,WAAW,oBAAoB;AAC/B;;AAEA,kGAAgB,SAAS,sCAAsC,EAAE;AACjE,sFAAa,mCAAmC,aAAa,aAAa,aAAa,YAAY,aAAa,KAAK;AACrH;AACA;AACA;;AAEA,0BAA0B,yBAAyB;AACnD;AACA;AACA,gDAAgD,mCAAmC;;AAEnF;AACA;AACA,gDAAgD,kCAAkC;;AAElF;;AAEA,UAAU;AACV;;AAEA;;;;;;;;AC9BA;;AAEA;AACA;AACA;AACA;AACA,6DAA6D,MAAM;AACnE,mEAAmE,QAAQ;AAC3E,YAAY,SAAS,GAAG,WAAW;AACnC;AAAA;AAAA;;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,KAAK;AAC5B;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;AChBe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACfgC;AACT;AACvB;AACkE;AAC3C;;AAEvB;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;;;;;;;;;;;;;;;;;;;AC3E4C;AAC6B;AACzE;AACqB;AACC;AAC2G;AACrG;;AAE5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA,SAAS,OAAO;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,WAAW,wBAAwB;AACnC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;AC5F8C;AAC9C;AACqB;AACE;;AAQtB;;AAkBA;;AAED,OAAO,WAAW,cAAc,EAAE;AAClC,uFAAsC,cAAc;AAAA;AAAA;;AAEpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,wBAAwB;AACnC;AACA;AACA,KAAK;;AAEL;;AAEA;AACA,aAAa,0BAA0B;AACvC;;AAEA;AACA;AACA,qNAA2D,UAAU,aAAa,OAAO,GAAG,eAAe;AAC3G,KAAK;AACL,aAAa,0BAA0B;AACvC;;AAEA;AACA;AACA,qNAA2D,UAAU,aAAa,OAAO,GAAG,eAAe;AAC3G;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,wCAAwC;AACrD,uBAAuB;AACvB,aAAa,kBAAkB;;AAE/B;AACA;AACA;AACA,KAAK;AACL,mBAAmB,MAAM;AACzB;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,wCAAwC;AACrD,uBAAuB;AACvB,aAAa,kBAAkB;;AAE/B;AACA;AACA;AACA,KAAK;AACL,mBAAmB,MAAM;AACzB;AACA;AACA;;AAEA;AACA,SAAS,WAAW,mHAAwC,4BAA4B;AACxF;AACA;;AAEA;AACA;AACA;;AAEA;AACA,WAAW,OAAO;AAClB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACzIA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA,eAAe,cAAc;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA,6CAA6C,QAAQ,GAAG,eAAe;AACvE;;AAEA;AACA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD,iBAAiB;AACxE,cAAc,iBAAiB;AAC/B,kCAAkC;AAClC,gBAAgB;AAChB,OAAO;AACP,wBAAwB,QAAQ;AAChC;;AAEA;AACA,2CAA2C,UAAU,mBAAmB;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;AC1DA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACZyB;;AAEN;AACqC;AACmE;;AAE5H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;;;;;;;;;;ACxBA;AAAA;AACwB;AACT;AAC0G;;AAEzH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AAAA;AAAA;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AAAA;AAAA;;AAED;AACA;AACA,CAAC;AAAA;AAAA;;AAED;AACA;AACA,CAAC;AAAA;AAAA;;;;;;;;;;;;AC1CuB;;AAEgC;AACH;;AAErD;;AAEA;AACA,yEAAuB,4BAA4B;AACnD;AACA,CAAC;AAAA;AAAA;;AAED;AACA,yEAAuB,4BAA4B;AACnD;AACA,CAAC;AAAA;AAAA;;AAED;AACA,yEAAuB,qBAAqB;AAC5C;AACA;AACA;;AAEA,gFAA8B,qBAAqB;AACnD;AACA;AACA;;AAEA,gFAA8B,aAAa;AAC3C;AACA;AACA;AACA,CAAC;AAAA;AAAA;;AAED;AACA,yEAAuB,qBAAqB;AAC5C;AACA;AACA;;AAEA,gFAA8B,qBAAqB;AACnD;AACA;AACA;;AAEA,gFAA8B,aAAa;AAC3C;AACA;AACA;AACA,CAAC;AAAA;AAAA;;;;;;;;;;;;ACjDuB;AAC6H;AACtI;;AAEf,OAAO,WAAW,OAAO,EAAE;;AAE3B;AACA;AACA;AACA,oDAAoD,SAAS,mBAAmB,aAAa;AAC7F,CAAC,IAAI;AAAA;AAAA;;AAEL;AACA;AACA;AACA,oBAAoB;AACpB,uBAAuB;AACvB,KAAK;AACL,CAAC,IAAI;AAAA;AAAA;;AAEL;AACA;AACA,CAAC;AAAA;AAAA;;AAED;AACA;AACA,CAAC;AAAA;AAAA;;AAED;AACA;AACA,CAAC;AAAA;AAAA;;AAED;AACA;AACA,CAAC;AAAA;AAAA;;AAED;AACA;AACA,CAAC;AAAA;AAAA;;AAED;AACA;AACA,CAAC;AAAA;AAAA;;AAED;AACA;AACA;AACA;AACA,CAAC;AAAA;AAAA;;;;;;;AChDD,qC;;;;;;ACAA,kD;;;;;;ACAA,qC;;;;;;ACAA,uC;;;;;;ACAA,uC;;;;;;ACAA,kC;;;;;;ACAA,oC;;;;;;ACAA,6C;;;;;;ACAA,yC;;;;;;ACAA,kD;;;;;;ACAA,0C;;;;;;;;;;;;ACAA;AACA;AACA;;AAEA;AACA;;AAEA,SAAS,uBAAuB;AAChC;AACA;;AAEA,4EAAoC,eAAe;AACnD,uCAAuC,uCAAuC;AAC9E,uCAAuC,sBAAsB;AAC7D;;AAEA;AACA;AAAA;AAAA","file":"worker_bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/Users/maxsvargal/Documents/projects/poloniex\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 53);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 063a85e2644fcbe90452","module.exports = require(\"react-hyperscript-helpers\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-hyperscript-helpers\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = 1\n// module chunks = 0","import { createAction } from 'redux-act'\n\nexport const addBuyChunks = createAction('ADD_BUY_CHUNKS')\nexport const addChunkedCurrency = createAction('ADD_CHUNKED_CURRENCY')\nexport const addEstimateRatio = createAction('ADD_ESTIMATE_RATIO')\nexport const addSellChunks = createAction('ADD_SELL_CHUNKS')\nexport const addStats = createAction('ADD_STATS')\nexport const botMessage = createAction('BOT_MESSAGE')\nexport const buyFailure = createAction('BUY_FAILURE')\nexport const buySuccess = createAction('BUY_SUCCESS')\nexport const convertCurrencyToChunks = createAction('CONVERT_CURRENCY_TO_CHUNKS')\nexport const doBuy = createAction('DO_BUY')\nexport const doSell = createAction('DO_SELL')\nexport const getCurrentPair = createAction('GET_CURRENT_PAIR')\nexport const newTrade = createAction('NEW_TRADE')\nexport const orderBookModify = createAction('ORDER_BOOK_MODIFY')\nexport const orderBookRemove = createAction('ORDER_BOOK_REMOVE')\nexport const removeOpenBuys = createAction('REMOVE_OPEN_BUYS')\nexport const removeOpenSells = createAction('REMOVE_OPEN_SELLS')\nexport const sellFailure = createAction('SELL_FAILURE')\nexport const sellSuccess = createAction('SELL_SUCCESS')\nexport const sendBuys = createAction('SEND_BUYS')\nexport const sendSells = createAction('SEND_SELLS')\nexport const setCurrency = createAction('SET_CURRENCY')\nexport const setCurrencyPair = createAction('SET_CURRENCY_PAIR')\nexport const setCurrentFinalResult = createAction('SET_CURRENT_FINAL_RESULT')\nexport const setFreeCurrencies = createAction('SET_FREE_CURRENCIES')\nexport const setThreshold = createAction('SET_THRESHOLD')\nexport const setTrends = createAction('SET_TRENDS')\nexport const updateWallet = createAction('UPDATE_WALLET')\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./shared/actions/index.js\n// module id = 2\n// module chunks = 0","module.exports = require(\"react-redux\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-redux\"\n// module id = 3\n// module chunks = 0","const { ACCOUNT: { pair } } = process.env\n\nexport const USDT_ETH = 'USDT_ETH'\nexport const USDT_BTC = 'USDT_BTC'\nexport const BTC_ETH = 'BTC_ETH'\nexport const CURRENT_PAIR = pair\nexport const FIVE_MINUTES = 1000 * 60 * 5\nexport const TEN_MINUTES = 1000 * 60 * 10\nexport const TWENTY_MINUTES = 1000 * 60 * 20\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./const/index.js\n// module id = 4\n// module chunks = 0","module.exports = require(\"redux-saga/effects\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux-saga/effects\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"redux-act\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux-act\"\n// module id = 6\n// module chunks = 0","import { CURRENT_PAIR } from 'const'\n\nexport const selectAsk = state => state.ask\nexport const selectBid = state => state.bid\nexport const selectConclusions = state => state.conclusions\nexport const selectCurrencyPair = state => state.currencies[CURRENT_PAIR]\nexport const selectCurrentPair = state => state.currentPair.split('_')\nexport const selectSells = state => state.sell\nexport const selectTotals = state => state.totals\nexport const selectWallet = state => state.wallet\nexport const selectThreshold = state => state.threshold\nexport const selectChunkedCurrency = state => state.chunkedCurrency\n\nexport const selectSellsLastTime = (state, time) => {\n  const currTime = new Date().getTime()\n  return state.sell.filter(i => i[0] > currTime - time)\n}\n\nexport const selectBuysLastTime = (state, time) => {\n  const currTime = new Date().getTime()\n  return state.buy.filter(i => i[0] > currTime - time)\n}\n\nexport const selectUncoveredSells = state =>\n  state.mySells.filter(v => v[4] === 0)\n\nexport const selectUncoveredBuys = state =>\n  state.myBuys.filter(v => v[4] === 0)\n\nexport const selectLastTenStats = state =>\n  state.stats.slice(state.stats.length - 11, state.stats.length - 1)\n\nexport const selectEstimateRatios = state =>\n  state.statsEstimate.slice(state.statsEstimate.length - 11, state.statsEstimate.length - 1)\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/sagas/selectors.js\n// module id = 7\n// module chunks = 0","/* eslint import/prefer-default-export: 0 */\n\nexport const cropNumber = num => Number((num).toFixed(8))\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/utils/index.js\n// module id = 8\n// module chunks = 0","export const time = val => val ? new Date(val).getTime() : new Date().getTime()\n\nexport const removeIndex = (arr, index) => index === -1 ? arr :\n  [ ...arr.slice(0, index), ...arr.slice(index + 1) ]\n\nexport const mergeOnAmount = (state, rate, amount) =>\n  amount ?\n    [ ...state, [ time(), rate, amount ] ] :\n    [ ...state.slice(0, -1), [ time(), rate, state[state.length - 1][1] ] ]\n\nexport const getOnlyLast = (arr, minutes) => {\n  const currTime = time()\n  return arr.reduce((prev, curr) =>\n    currTime - curr[0] < minutes ? [ ...prev, curr ] : prev, [])\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./shared/reducers/helpers.js\n// module id = 9\n// module chunks = 0","import { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { hh, div } from 'react-hyperscript-helpers'\nimport { formatDate } from 'client/utils'\n\nconst checkStringContain = (input, arr) =>\n  arr.reduce((prev, curr) => (prev === true || input.search(curr) !== -1), false)\n\nclass BotLog extends Component {\n  render() {\n    const { data } = this.props\n    const styles = this.getStyles()\n\n    return div({ style: styles.root }, data.map((item, index) =>\n      div({ style: styles.item(index, item[1]) }, `${formatDate(item[0])} ${item[1]}`)))\n  }\n\n  getStyles() {\n    return {\n      root: {\n        fontSize: '1.1rem',\n        lineHeight: '1.4rem',\n        // minWidth: '45vw',\n        // maxWidth: '55vw',\n        // height: '43.5vh',\n        // overflow: 'scroll'\n      },\n      item: (index, str) => ({\n        padding: '.25rem 0',\n        borderBottom: '1px solid #3b4048',\n        background: index % 2 ? 'transparent' : '#343940',\n        fontWeight: checkStringContain(str, [ 'Куплено', 'Продано', 'Ошибка' ]) ? 'bold' : 'normal',\n        color: (str.search('Куплено') !== -1 && '#f8fcf5') ||\n          (str.search('Продано') !== -1 && '#fcf7f5') ||\n          (str.search('Ошибка') !== -1 && '#ef3435') ||\n          '#fff'\n      })\n    }\n  }\n}\n\nconst mapStateToProps = ({ botMessages }) =>\n  ({ data: botMessages.slice().reverse().slice(0, 200) })\n\nexport default hh(connect(mapStateToProps)(BotLog))\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/components/BotLog.js\n// module id = 10\n// module chunks = 0","import { take, select, put, race } from 'redux-saga/effects'\nimport { cropNumber } from 'server/utils'\nimport { doBuy, doSell, botMessage, buySuccess, buyFailure, sellSuccess, sellFailure } from 'shared/actions'\nimport { selectUncoveredSells, selectUncoveredBuys } from './selectors'\n\n/* eslint require-yield: 0 */\nexport default function* TradeSaga() {\n  false\n}\n\nexport function* buySaga(rate, hold) {\n  // брать самый объёмный чанк\n  const searchMinimalSellIndex = (arr, byRate) => {\n    const lessThenBuy = arr.map(v => v[1]).reduce((prev, curr) =>\n      (curr > byRate + hold ? [ ...prev, curr ] : prev), [])\n    const minRate = Math.min(...lessThenBuy)\n    const valIndex = arr.findIndex(v => v[1] === minRate)\n    const valVolume = arr[valIndex] && arr[valIndex][2]\n    return [ valIndex, minRate, valVolume ]\n  }\n\n  const sells = yield select(selectUncoveredSells)\n  const [ coverIndex, coverRate, coverValue ] = searchMinimalSellIndex(sells, rate)\n\n  if (coverIndex !== -1) {\n    const fee = coverValue * 0.25\n    const profit = cropNumber((coverRate - rate) * (coverValue - fee))\n\n    yield put(doBuy([ rate, coverValue, coverIndex ]))\n\n    const { success, failure } = yield race({\n      success: take(buySuccess),\n      failure: take(buyFailure)\n    })\n\n    if (success) yield put(botMessage(`Куплено за ${rate}, покрыто ${coverRate}, объём ${coverValue}, прибыль ${profit}`))\n    else if (failure) yield put(botMessage(`Покупка не удалась. Ошибка: ${failure.payload[2]}`))\n  } else {\n    yield put(botMessage(`Покупка за ${rate} не покрывает ни одной предыдущей продажи`))\n  }\n}\n\nexport function* sellSaga(rate, hold) {\n  const searchMinimalBuyIndex = (arr, byRate) => {\n    const moreThenSell = arr.map(v => v[1]).reduce((prev, curr) =>\n      (curr < byRate - hold ? [ ...prev, curr ] : prev), [])\n    const minRate = Math.min(...moreThenSell)\n    const valIndex = arr.findIndex(v => v[1] === minRate)\n    const valVolume = arr[valIndex] && arr[valIndex][2]\n    return [ valIndex, minRate, valVolume ]\n  }\n\n  const buys = yield select(selectUncoveredBuys)\n  const [ coverIndex, coverRate, coverValue ] = searchMinimalBuyIndex(buys, rate)\n\n  if (coverIndex !== -1) {\n    const fee = coverValue * 0.25\n    const profit = cropNumber((rate - coverRate) * (coverValue - fee))\n\n    yield put(doSell([ rate, coverValue, coverIndex ]))\n\n    const { success, failure } = yield race({\n      success: take(sellSuccess),\n      failure: take(sellFailure)\n    })\n\n    if (success) yield put(botMessage(`Продано за ${rate}, покрыто ${coverRate}, объём ${coverValue}, прибыль: ${profit}`))\n    else if (failure) yield put(botMessage(`Продажа не удалась. Ошибка: ${failure.payload[2]}`))\n  } else {\n    yield put(botMessage(`Продажа за ${rate} не покрывает ни одной предыдущей покупки`))\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/sagas/trade.js\n// module id = 11\n// module chunks = 0","module.exports = require(\"bignumber.js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"bignumber.js\"\n// module id = 12\n// module chunks = 0","module.exports = require(\"react-router-dom\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router-dom\"\n// module id = 13\n// module chunks = 0","module.exports = require(\"redux\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux\"\n// module id = 14\n// module chunks = 0","module.exports = require(\"redux-saga\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux-saga\"\n// module id = 15\n// module chunks = 0","import { renderToString } from 'react-dom/server'\nimport { Provider } from 'react-redux'\nimport { StaticRouter as Router } from 'react-router-dom'\nimport { h } from 'react-hyperscript-helpers'\nimport App from 'client/components/App'\nimport renderFullPage from './index.html'\n\nconst handleRender = store => (req, res) => {\n  const preloadedState = store.getState()\n  const context = {}\n\n  const html = renderToString(\n    h(Provider, { store }, [\n      h(Router, { context }, [\n        App()\n      ])\n    ]))\n\n  res.send(renderFullPage(html, preloadedState))\n}\n\nexport default handleRender\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/renderer.js\n// module id = 16\n// module chunks = 0","import PouchDB from 'pouchdb'\nimport { applyMiddleware, compose, createStore } from 'redux'\nimport { persistentStore, persistentReducer } from 'redux-pouchdb'\nimport createSagaMiddleware from 'redux-saga'\n\nimport rootReducer from 'shared/reducers'\nimport rootSaga from 'server/sagas'\n\nexport default scServer => {\n  // move it?\n  const db = new PouchDB('./server/db/stockbroker.alpha', { adapter: 'leveldb' })\n\n  const actionCatchMiddleware = () => next => action => {\n    scServer.exchange.publish('update', action)\n    next(action)\n  }\n\n  const sagaMiddleware = createSagaMiddleware()\n  const middlewares = applyMiddleware(sagaMiddleware, actionCatchMiddleware)\n  const persist = persistentStore(db)\n  const createStoreWithMiddleware = compose(persist, middlewares)(createStore)\n  const store = createStoreWithMiddleware(persistentReducer(rootReducer))\n\n  sagaMiddleware.run(rootSaga)\n  return store\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/store.js\n// module id = 17\n// module chunks = 0","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 18\n// module chunks = 0","import { Component, PropTypes } from 'react'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router'\nimport debounce from 'debounce'\nimport { hh, div, input, label, button } from 'react-hyperscript-helpers'\nimport { setThreshold, sendSells, sendBuys, removeOpenBuys, removeOpenSells } from 'shared/actions'\n\nimport ChunksAddForm from './ChunksAddForm'\n\nclass Settings extends Component {\n  constructor(props) {\n    super(props)\n    this.refers = {}\n    this.state = {\n      sellChunkAmount: 0,\n      buyChunkAmount: 0,\n      flashBg: false,\n      showBuyForm: true\n    }\n    this.sendSells = this.sendSells.bind(this)\n    this.sendBuys = this.sendBuys.bind(this)\n    this.removeOpenSells = this.removeOpenSells.bind(this)\n    this.removeOpenBuys = this.removeOpenBuys.bind(this)\n    this.changeThreshold = debounce(props.setThreshold, 500)\n  }\n\n  onThresholdChange(e) {\n    this.changeThreshold(Number(e.target.value))\n  }\n\n  flashBackground() {\n    this.setState({ flashBg: true })\n    setTimeout(() => this.setState({ flashBg: false }), 200)\n  }\n\n  removeOpenSells() {\n    this.props.removeOpenSells()\n    this.flashBackground()\n  }\n\n  removeOpenBuys() {\n    this.props.removeOpenBuys()\n    this.flashBackground()\n  }\n\n  sendSells(data) {\n    this.props.sendSells(data)\n    this.flashBackground()\n  }\n\n  sendBuys(data) {\n    this.props.sendBuys(data)\n    this.flashBackground()\n  }\n\n  render() {\n    const { pairNames, currency /* , freeCurrencies */, threshold, wallet } = this.props\n    const isWalletIsset = !!(wallet[pairNames[0]] || wallet[pairNames[1]])\n    const isCurrencyIsset = !!(currency && currency.highestBid)\n    const styles = this.getStyles()\n    console.log({ isWalletIsset, isCurrencyIsset });\n\n    return !(isWalletIsset && isCurrencyIsset) ?\n    div({ style: styles.loading }, 'Получение баланса...') :\n    div({ style: styles.root(this.state.flashBg) }, [\n      div({ style: styles.box }, [\n\n        // div({ style: styles.row }, [\n        //   div({ style: styles.col }, [\n        //     label({ style: styles.label }, 'Валюта'),\n        //     div({ style: styles.info }, pairNames[0]),\n        //     div({ style: styles.info }, pairNames[1])\n        //   ]),\n        //   div({ style: styles.col }, [\n        //     label({ style: styles.label }, 'На счету'),\n        //     div({ style: styles.info }, wallet[pairNames[0]]),\n        //     div({ style: styles.info }, wallet[pairNames[1]])\n        //   ]),\n        //   div({ style: styles.col }, [\n        //     label({ style: styles.label }, 'Доступно'),\n        //     div({ style: styles.info }, freeCurrencies[0]),\n        //     div({ style: styles.info }, freeCurrencies[1])\n        //   ]),\n        //   div({ style: styles.col }, [\n        //     label({ style: styles.label }, 'В чанках'),\n        //     div({ style: styles.info }, cropNumber(wallet[pairNames[0]] - freeCurrencies[0])),\n        //     div({ style: styles.info }, cropNumber(wallet[pairNames[1]] - freeCurrencies[1]))\n        //   ])\n        // ]),\n\n        ChunksAddForm({\n          pairNames,\n          rate: currency && currency.highestBid,\n          amount: wallet[pairNames[1]],\n          onCreateBuy: this.sendBuys,\n          onCreateSell: this.sendSells\n        }),\n        div({ style: styles.row }, [\n          div({ style: styles.col }, [\n            label({ style: styles.label }, 'Порог прибыли'),\n            input({\n              type: 'number',\n              style: styles.input,\n              defaultValue: threshold,\n              onChange: e => this.onThresholdChange(e)\n            })\n          ]),\n          div({ style: styles.col }, [\n            button({\n              style: styles.removeBtn,\n              onClick: this.removeOpenSells\n            }, 'Удалить открытые продажи')\n          ]),\n          div({ style: styles.col }, [\n            button({\n              style: styles.removeBtn,\n              onClick: this.removeOpenBuys\n            }, 'Удалить открытые покупки')\n          ])\n        ])\n      ])\n    ])\n  }\n\n  getStyles() {\n    return {\n      root: animateState => ({\n        width: '100vw',\n        height: '94vh',\n        background: animateState ? '#30db7d' : '#282c34',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        transition: animateState ? 'background 0.05s' : 'background 1s ease-out'\n      }),\n      box: {\n        maxWidth: '95vw',\n        minWidth: '50vw',\n        minHeight: '75vh'\n      },\n      loading: {\n        width: '100vw',\n        height: '100vh',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      label: {\n        display: 'block',\n        margin: '0.5rem 0'\n      },\n      input: {\n        fontSize: '1.2rem',\n        padding: '.25rem .5rem'\n      },\n      row: {\n        display: 'flex',\n        justifyContent: 'center'\n      },\n      col: {\n        margin: '.5rem'\n      },\n      removeBtn: {\n        background: '#de6a70',\n        color: '#fff',\n        border: 0,\n        fontSize: '.9rem',\n        padding: '.65rem 1rem',\n        margin: '2rem .2rem 0 .2rem'\n      }\n    }\n  }\n}\n\nSettings.propTypes = {\n  threshold: PropTypes.number,\n  currency: PropTypes.object,\n  wallet: PropTypes.object\n}\n\nconst mapStateToProps = ({ threshold, currencies, currentPair, freeCurrencies, wallet }) =>\n  ({\n    pairNames: currentPair.split('_'),\n    currency: currencies[currentPair],\n    freeCurrencies,\n    threshold,\n    wallet\n  })\n\nconst dispatchToProps = {\n  setThreshold, sendSells, sendBuys, removeOpenBuys, removeOpenSells\n}\n\nexport default hh(withRouter(connect(mapStateToProps, dispatchToProps)(Settings)))\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/components/Actions.js\n// module id = 19\n// module chunks = 0","import { Component } from 'react'\nimport { h, hh, div, span } from 'react-hyperscript-helpers'\nimport { NavLink, Route, Switch } from 'react-router-dom'\n\nimport SimpleMode from './SimpleMode'\nimport FullMode from './FullMode'\nimport Actions from './Actions'\nimport MyOrders from './MyOrders'\n\nclass App extends Component {\n  render() {\n    const styles = this.getStyles()\n\n    return div({ style: styles.root }, [\n      div({ style: styles.linksBox }, [\n        h(NavLink, { to: '/', style: styles.link, exact: true, activeStyle: styles.activeLink }, [ span('Минимум') ]),\n        h(NavLink, { to: '/full', style: styles.link, activeStyle: styles.activeLink }, [ span('Отслеживание') ]),\n        h(NavLink, { to: '/orders', style: styles.link, activeStyle: styles.activeLink }, [ span('Транзакции') ]),\n        h(NavLink, { to: '/actions', style: styles.link, activeStyle: styles.activeLink }, [ span('Действия') ])\n      ]),\n      h(Switch, [\n        h(Route, { exact: true, path: '/', component: SimpleMode }),\n        h(Route, { path: '/full', component: FullMode }),\n        h(Route, { path: '/orders', component: MyOrders }),\n        h(Route, { path: '/actions', component: Actions })\n      ])\n    ])\n  }\n\n  getStyles() {\n    return {\n      root: {\n        background: '#282c34',\n        color: '#fff',\n        fontFamily: '\"Courier New\", monospace',\n        fontSize: '16px',\n        minHeight: '100vh',\n        WebkitFontSmoothing: 'antialiased'\n      },\n      linksBox: {\n        display: 'flex',\n        justifyContent: 'center',\n        background: '#303030',\n        borderBottom: '1px solid #0e0f10'\n      },\n      link: {\n        display: 'inline-block',\n        padding: '0.5rem 1rem',\n        fontSize: '1.4rem',\n        color: '#aaaaaa',\n        textDecoration: 'none',\n        fontWeight: 'bold'\n      },\n      activeLink: {\n        color: '#fc983e'\n      }\n    }\n  }\n}\n\nexport default hh(App)\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/components/App.js\n// module id = 20\n// module chunks = 0","import { Component } from 'react'\nimport { hh, div, input, label, span, button } from 'react-hyperscript-helpers'\nimport BigNumber from 'bignumber.js'\n\nclass ChunksAddForm extends Component {\n  constructor(props) {\n    super(props)\n    this.refers = {}\n    this.state = {\n      chunkAmount: 0,\n      currencyChunkAmount: 0,\n      currencyTotalAmount: 0\n    }\n  }\n\n  calculate() {\n    const { amount, chunks, rate } = this.refers\n\n    const chunkAmount = new BigNumber(0)\n      .plus(amount.value || 0)\n      .div(chunks.value || 1)\n      .toFixed(8)\n\n    const currencyTotalAmount = new BigNumber(0)\n      .plus(rate.value || 1)\n      .times(amount.value || 1)\n      .times(chunks.value || 1)\n      .toFixed(8)\n\n    const currencyChunkAmount = new BigNumber(0)\n      .plus(currencyTotalAmount)\n      .div(chunks.value || 1)\n      .toFixed(8)\n\n    this.setState({ chunkAmount, currencyChunkAmount, currencyTotalAmount })\n  }\n\n  onCreateBuy() {\n    const { rate, chunks } = this.refers\n    this.props.onCreateBuy({\n      rate: Number(rate.value),\n      amount: Number(this.state.chunkAmount),\n      chunksNum: Number(chunks.value)\n    })\n  }\n\n  onCreateSell() {\n    const { rate, chunks } = this.refers\n    this.props.onCreateSell({\n      rate: Number(rate.value),\n      amount: Number(this.state.chunkAmount),\n      chunksNum: Number(chunks.value)\n    })\n  }\n\n  render() {\n    const { pairNames, rate, amount } = this.props\n    const styles = this.getStyles()\n\n    return div({ style: styles.row }, [\n      div({ style: styles.col }, [\n        label({ style: styles.label }, `Объём ${pairNames[1]}`),\n        input({\n          type: 'number',\n          style: styles.input,\n          defaultValue: amount,\n          ref: ref => (this.refers.amount = ref),\n          onChange: () => this.calculate()\n        }),\n\n        label({ style: styles.label }, `Всего ${pairNames[0]}`),\n        span({\n          type: 'number',\n          style: styles.output },\n          this.state.currencyTotalAmount)\n      ]),\n      div({ style: styles.col }, [\n        label({ style: styles.label }, 'Чанков'),\n        input({\n          type: 'number',\n          style: styles.input,\n          defaultValue: 0,\n          ref: ref => (this.refers.chunks = ref),\n          onChange: () => this.calculate()\n        }),\n\n        label({ style: styles.label }, `${pairNames[1]} в чанке`),\n        span({\n          type: 'number',\n          style: styles.output },\n          this.state.chunkAmount)\n      ]),\n      div({ style: styles.col }, [\n        label({ style: styles.label }, `Цена для чанка ${pairNames[0]}`),\n        input({\n          type: 'number',\n          style: styles.input,\n          defaultValue: rate,\n          ref: ref => (this.refers.rate = ref),\n          onChange: () => this.calculate()\n        }),\n\n        label({ style: styles.label }, `${pairNames[0]} в чанке`),\n        span({\n          type: 'number',\n          style: styles.output },\n          this.state.currencyChunkAmount)\n      ]),\n      div({ style: styles.actionsRow }, [\n        button({\n          style: styles.createBtn,\n          onClick: () => this.onCreateBuy() },\n          'Создать покупки'),\n        button({\n          style: styles.createBtn,\n          onClick: () => this.onCreateSell() },\n          'Создать продажи')\n      ])\n    ])\n  }\n\n  getStyles() {\n    return {\n      label: {\n        display: 'block',\n        padding: '2rem 0 1rem'\n      },\n      input: {\n        fontSize: '1.2rem',\n        padding: '.25rem .5rem'\n      },\n      row: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        justifyContent: 'center',\n        margin: '0 .5rem',\n        padding: '0.5rem 0.5rem'\n      },\n      col: {\n        margin: '.5rem'\n      },\n      output: {\n        fontSize: '2rem',\n        display: 'inline-block',\n        minWidth: '12rem'\n      },\n      createBtn: {\n        background: '#54a9eb',\n        color: '#fff',\n        border: 0,\n        fontSize: '1.2rem',\n        padding: '1rem 3rem',\n        margin: '4rem 1rem'\n      },\n      actionsRow: {\n        display: 'flex',\n        minWidth: '55vw',\n        justifyContent: 'space-between'\n      }\n    }\n  }\n}\n\nexport default hh(ChunksAddForm)\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/components/ChunksAddForm.js\n// module id = 21\n// module chunks = 0","import { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { hh, h1, div, input } from 'react-hyperscript-helpers'\n\nimport FinalCurrentResult from './FinalCurrentResult'\n\n// const audio = new Audio('Tink.m4a')\n\nclass CurrencyStats extends Component {\n  constructor(props) {\n    super(props)\n    this.inputRef = null\n    this.state = {\n      outputValue: '',\n      watchValue: ''\n    }\n    this.handleKeyPress = this.handleKeyPress.bind(this)\n    this.handleWatcherKeyPress = this.handleWatcherKeyPress.bind(this)\n  }\n\n  handleKeyPress(e) {\n    this.setState({\n      outputValue: (e.target.value * this.props.data.last).toFixed(8)\n    })\n  }\n\n  handleWatcherKeyPress(e) {\n    this.setState({\n      watchValue: e.target.value\n    })\n  }\n\n  componentWillReceiveProps(nextProps) {\n    // const { watchValue } = this.state\n    // const watchValueNumber = Number(watchValue)\n    // if (nextProps.data.last >= watchValueNumber && watchValueNumber !== 0) {\n    //   audio && audio.play()\n    // }\n\n    document && (document.title = nextProps.data.last)\n    this.inputRef && this.handleKeyPress({ target: { value: this.inputRef.value } })\n  }\n\n  render() {\n    const { data, currentPair } = this.props\n    const { outputValue } = this.state\n    const styles = this.getStyles()\n\n    return div({ style: styles.root }, [\n      FinalCurrentResult(),\n      h1({ style: styles.h1 }, currentPair),\n      data ?\n        div([\n          div({ style: styles.watcher }, [\n            input({\n              style: styles.inputWatcher,\n              onKeyUp: this.handleWatcherKeyPress,\n              ref: (c => (this.watcherRef = c))\n            }),\n            div('- уведомление при курсе')\n          ]),\n          div({ style: styles.course }, [\n            input({\n              style: styles.input,\n              onKeyUp: this.handleKeyPress,\n              ref: (c => (this.inputRef = c))\n            }),\n            div({ style: styles.x }, 'x'),\n            div({ style: styles.bigger }, data.last),\n            outputValue > 0 && div({ style: styles.total }, `= ${outputValue} ${currentPair.split('_')[0]}`)\n          ]),\n          div([ 'Спрос: ', data.lowestAsk ]),\n          div([ 'Предложение: ', data.highestBid ]),\n          div([ 'Высшая цена за 24 часа: ', data.hrHigh ]),\n          div([ 'Низшая цена за 24 часа: ', data.hrLow ]),\n          div([ 'Сдвиг: ', data.percentChange, '%' ]),\n          div([ 'Объём: ', data.baseVolume ]),\n        ])\n      :\n        div('Ожидание обновления курса...')\n    ])\n  }\n\n  getStyles() {\n    return {\n      root: {\n        fontSize: '1.1rem',\n        lineHeight: '1.6rem',\n        fontWeight: 'bold',\n        marginBottom: '2rem'\n      },\n      h1: {\n        fontSize: '3rem',\n        margin: '1rem 0 2.5rem 0'\n      },\n      bigger: {\n        fontSize: '3.6rem',\n        margin: '2.5rem 0',\n        color: '#e352c9'\n      },\n      course: {\n        display: 'flex'\n      },\n      input: {\n        width: '7rem',\n        height: '2.8rem',\n        marginTop: '1.75rem',\n        background: '#144b44',\n        color: '#fff',\n        border: 0,\n        fontWeight: 'bold',\n        fontSize: '1.4rem'\n      },\n      inputWatcher: {\n        border: 0,\n        width: '7rem',\n        marginRight: '.8rem',\n        background: '#144b44',\n        color: '#fff',\n        fontWeight: 'bold',\n        fontSize: '1.2rem'\n      },\n      watcher: {\n        display: 'flex'\n      },\n      x: {\n        display: 'flex',\n        width: '2rem',\n        height: '3rem',\n        justifyContent: 'center',\n        alignItems: 'center',\n        marginTop: '1.75rem',\n        fontSize: '2rem',\n        color: '#24a292'\n      },\n      total: {\n        fontSize: '1.6rem',\n        marginTop: '5rem',\n        marginLeft: '-16rem',\n        color: '#24a292'\n      }\n    }\n  }\n}\n\nconst mapStateToProps = ({ currencies, currentPair }) =>\n  ({ data: currencies[currentPair], currentPair })\n\nexport default hh(connect(mapStateToProps)(CurrencyStats))\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/components/CurrencyStats.js\n// module id = 22\n// module chunks = 0","import { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { hh, div } from 'react-hyperscript-helpers'\n\nclass FinalCurrentResult extends Component {\n  render() {\n    const { finalCurrentResult } = this.props\n    const isPositive = finalCurrentResult >= 0\n    const chars = [ ...new Array(Math.abs(finalCurrentResult / 2)) ]\n    const styles = this.getStyles()\n\n    return div({ style: styles.root },\n      chars.map((v, i) => div({ style: styles.char(isPositive, i) }, isPositive ? '▲' : '▼')))\n  }\n\n  getStyles() {\n    return {\n      root: {\n        position: 'absolute',\n        marginLeft: '14rem',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        paddingTop: '0.15rem',\n        height: '2rem'\n      },\n      char: (isPositive, index) => ({\n        color: isPositive ? `#72bf${index * 2}d` : `#c349${index * 2}a`,\n        fontSize: '1.75rem',\n        marginTop: '-1rem',\n        alignSelf: 'center'\n      })\n    }\n  }\n}\n\nconst mapStateToProps = ({ finalCurrentResult }) => ({ finalCurrentResult })\nexport default hh(connect(mapStateToProps)(FinalCurrentResult))\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/components/FinalCurrentResult.js\n// module id = 23\n// module chunks = 0","import { Component } from 'react'\nimport { hh, div } from 'react-hyperscript-helpers'\n\n// import BigTable from './BigTable'\nimport BotLog from './BotLog'\nimport TradeTable from './TradeTable'\nimport CurrencyStats from './CurrencyStats'\n\nclass FullMode extends Component {\n  render() {\n    const styles = this.getStyles()\n\n    return div({ style: styles.root }, [\n      div({ style: styles.column }, [\n        div({ style: styles.currency }, [\n          CurrencyStats(),\n          div({ style: styles.botLogBox }, [\n            BotLog()\n          ])\n        ]),\n        div({ style: styles.trade }, [\n          TradeTable()\n        ])\n      ])\n      // div({ style: styles.row }, [\n      //   BigTable(({ ask }) => ({ data: ask }))(\n      //     { title: 'Предложение', headers: [ 'Date', 'Price', 'ETH', 'USDT' ] }),\n      //   BigTable(({ bid }) => ({ data: bid }))(\n      //     { title: 'Спрос', headers: [ 'Date', 'Price', 'ETH', 'USDT' ] })\n      // ])\n    ])\n  }\n\n  getStyles() {\n    return {\n      root: {\n      },\n      column: {\n        display: 'flex',\n        justifyContent: 'space-around',\n        padding: '1vh 2.5vw'\n      },\n      currency: {\n        minWidth: '40vw'\n      },\n      trade: {\n        minWidth: '35vw',\n        maxWidth: '100vw',\n        display: 'flex',\n        justifyContent: 'flex-end',\n        marginTop: '1rem'\n      },\n      botLogBox: {\n        minWidth: '42vw',\n        maxWidth: '55vw',\n        height: 'calc(83vh - 345px)',\n        overflow: 'scroll'\n      }\n    }\n  }\n}\n\nexport default hh(FullMode)\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/components/FullMode.js\n// module id = 24\n// module chunks = 0","import { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { hh, div, table, tbody, tr, th, td } from 'react-hyperscript-helpers'\n\nconst formatDate = time => {\n  const date = new Date(time)\n  const hours = date.getHours()\n  const minutes = date.getMinutes()\n  const hoursStr = hours.toString().length > 1 ? hours : `0${hours}`\n  const minutesStr = minutes.toString().length > 1 ? minutes : `0${minutes}`\n  return `${hoursStr}:${minutesStr}`\n}\n\nclass MyOrders extends Component {\n\n  render() {\n    const styles = this.getStyles()\n    const headers = [ 'Time', 'Price', 'Amount', 'State' ]\n    const { mySells, myFailureSells, myBuys, myFailureBuys } = this.props\n    const data = [\n      ...mySells.map(v => [ 'sell', ...v ]),\n      ...myBuys.map(v => [ 'buy', ...v ]),\n      ...myFailureBuys.map(v => [ 'fbuy', ...v ]),\n      ...myFailureSells.map(v => [ 'fsell', ...v ])\n    ].sort((a, b) => b[1] - a[1])\n\n    return div([\n      table({ style: styles.table }, [\n        tbody({ style: styles.tbody }, [\n          tr({ style: styles.tr }, headers.map(header =>\n            th({ style: styles.th }, header))),\n\n          data.map((item, i) =>\n            tr({ key: i, style: styles.coloredTypedRow(item[0], item[5]) }, [\n              td(item[1] && formatDate(item[1])),\n              item.map(((col, j) =>\n                (j > 1 && j < 4 && td({ key: j, style: styles.td }, col)) ||\n                (j === 4 && td({ key: j, style: styles.td }, (() => (\n                  (col === 0 && 'Создано транзакцией') ||\n                  (col === -1 && 'Создано вручную') ||\n                  `Закрыто #${col}`\n                ))()))\n              ))\n            ]))\n        ])\n      ]),\n      div({ style: styles.map }, [\n        div({ style: { color: '#3c6a8e' } }, '● Открытая покупка'),\n        div({ style: { color: '#8e6e3c' } }, '● Открытая продажа'),\n        div({ style: { color: '#4b4f58' } }, '● Закрытая покупка'),\n        div({ style: { color: '#3e362f' } }, '● Закрытая продажа'),\n      ])\n    ])\n  }\n\n  getStyles() {\n    return {\n      table: {\n        width: '100%',\n        maxHeight: '85vh',\n        overflowY: 'auto',\n        padding: '5vw'\n      },\n      th: {\n        background: '#152126',\n        padding: '.25rem 0'\n      },\n      td: {\n        padding: '.1rem .5rem'\n      },\n      coloredTypedRow: (type, state) => ({\n        background:\n          (type === 'buy' && (state === 0 ? '#3c6a8e' : '#4b4f58')) ||\n          (type === 'sell' && (state === 0 ? '#8e6e3c' : '#3e362f')) ||\n          (type === 'fbuy' && '#d8544c') ||\n          (type === 'fsell' && '#d8544c')\n      }),\n      map: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        padding: '0 5vw'\n      }\n    }\n  }\n}\n\nconst mapStateToProps = ({ mySells, myFailureSells, myBuys, myFailureBuys }) =>\n  ({ mySells, myFailureSells, myBuys, myFailureBuys })\n\nexport default hh(connect(mapStateToProps)(MyOrders))\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/components/MyOrders.js\n// module id = 25\n// module chunks = 0","import { Component } from 'react'\nimport { hh, div } from 'react-hyperscript-helpers'\n\nimport BotLog from './BotLog'\nimport SimpleRate from './SimpleRate'\n\nclass FullMode extends Component {\n  render() {\n    const styles = this.getStyles()\n\n    return div({ style: styles.root }, [\n      SimpleRate(),\n      div({ style: styles.botLogBox }, [\n        BotLog()\n      ])\n    ])\n  }\n\n  getStyles() {\n    return {\n      root: {\n        padding: '5vh 5vw'\n      },\n      botLogBox: {\n        display: 'flex',\n        justifyContent: 'center',\n        minWidth: '80vw',\n        maxWidth: '90vw',\n        height: '75vh',\n        overflowY: 'scroll'\n      }\n    }\n  }\n}\n\nexport default hh(FullMode)\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/components/SimpleMode.js\n// module id = 26\n// module chunks = 0","import { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { hh, div } from 'react-hyperscript-helpers'\nimport { CURRENT_PAIR } from 'const'\n\nclass SimpleRate extends Component {\n  render() {\n    const { currency } = this.props\n    const styles = this.getStyles()\n\n    return div({ style: styles.root }, [\n      div({ style: styles.last }, currency && currency.last)\n    ])\n  }\n\n  getStyles() {\n    return {\n      root: {\n        minWidth: '100%',\n        textAlign: 'center'\n      },\n      last: {\n        fontSize: '4.5rem',\n        lineHeight: '3rem',\n        margin: '1rem 0 2.5rem 0',\n        color: '#e352c9'\n      }\n    }\n  }\n}\n\nconst mapStateToProps = ({ currencies }) =>\n  ({ currency: currencies[CURRENT_PAIR] })\n\nexport default hh(connect(mapStateToProps)(SimpleRate))\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/components/SimpleRate.js\n// module id = 27\n// module chunks = 0","import { Component, PropTypes } from 'react'\nimport { hh, table, tbody, tr, td, th, div } from 'react-hyperscript-helpers'\nimport throttle from 'react-throttle-render'\nimport deepEqual from 'deep-equal'\n\nconst formatDate = time => {\n  const date = new Date(time)\n  const hours = date.getHours()\n  const minutes = date.getMinutes()\n  const hoursStr = hours.toString().length > 1 ? hours : `0${hours}`\n  const minutesStr = minutes.toString().length > 1 ? minutes : `0${minutes}`\n  return `${hoursStr}:${minutesStr}`\n}\n\n\nclass Table extends Component {\n  shouldComponentUpdate(nextProps) {\n    return !deepEqual(nextProps.data, this.props.data)\n  }\n\n  render() {\n    const { data, title, headers } = this.props\n    const styles = this.getStyles()\n\n    return div({ style: styles.root }, [\n      div({ style: styles.title }, title),\n      table({ style: styles.table }, [\n        tbody({ style: styles.tbody }, [\n          tr({ style: styles.tr }, headers.map(header =>\n            th({ style: styles.th }, header))),\n\n          data.map((item, i) =>\n            tr({ key: i, style: styles.coloredTypedRow(item.type) }, [\n              td(item[0] && formatDate(item[0])),\n              item.map(((col, j) =>\n                j > 0 && td({ key: j, style: styles.td }, col)))\n            ]))\n        ])\n      ])\n    ])\n  }\n\n  getStyles() {\n    return {\n      root: {\n      },\n      table: {\n      },\n      thead: {\n\n      },\n      th: {\n        background: '#152126',\n        padding: '.25rem 0'\n      },\n      td: {\n        padding: '.1rem .5rem'\n      },\n      tbody: {\n        display: 'block'\n      },\n      title: {\n        fontSize: '1.2rem',\n        fontWeight: 'bold',\n        color: '#f6f8b7'\n      },\n      coloredTypedRow: type => {\n        switch (type) {\n          case 'sell': return { background: '#82373b' }\n          case 'buy': return { background: '#6e8436' }\n          default: return {}\n        }\n      }\n    }\n  }\n}\n\nTable.propTypes = {\n  data: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.array\n  ]),\n  headers: PropTypes.array,\n  title: PropTypes.string\n}\n\nexport default hh(throttle(1000)(Table))\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/components/Table.js\n// module id = 28\n// module chunks = 0","import { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { hh, div } from 'react-hyperscript-helpers'\nimport Table from './Table'\n\nclass TradeTable extends Component {\n  render() {\n    const { data, currentPair } = this.props\n    const pairNames = currentPair.split('_')\n\n    return div({ style: { overflowY: 'scroll', height: '87vh' } }, [\n      Table({ data, headers: [ 'Date', `Price ${pairNames[0]}`, `Amount ${pairNames[1]}`, `Total ${pairNames[0]}` ] })\n    ])\n  }\n}\n\nconst mapStateToProps = ({ buy, sell, currentPair }) => {\n  const partOfSells = sell\n    .slice(sell.length - 150, sell.length - 1)\n    .map(v => Object.defineProperty(v, 'type', { value: 'sell', enumerable: false }))\n\n  const partOfBuys = buy\n    .slice(buy.length - 150, buy.length - 1)\n    .map(v => Object.defineProperty(v, 'type', { value: 'buy', enumerable: false }))\n\n  const mergedArrays = [ ...partOfSells, ...partOfBuys ].sort().reverse()\n\n  return { data: mergedArrays, currentPair }\n}\n\nexport default hh(connect(mapStateToProps)(TradeTable))\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/components/TradeTable.js\n// module id = 29\n// module chunks = 0","/* eslint import/prefer-default-export: 0 */\n\nexport const formatDate = time => {\n  const date = new Date(time)\n  const hours = date.getHours()\n  const minutes = date.getMinutes()\n  const hoursStr = hours.toString().length > 1 ? hours : `0${hours}`\n  const minutesStr = minutes.toString().length > 1 ? minutes : `0${minutes}`\n  return `${hoursStr}:${minutesStr}`\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/utils/index.js\n// module id = 30\n// module chunks = 0","const renderFullPage = (html, preloadedState) => `\n  <!doctype html>\n  <html>\n    <head>\n      <title>Redux Universal Example</title>\n    </head>\n    <body style=\"margin:0\">\n      <div id=\"root\">${html}</div>\n      <script>\n        window.__PRELOADED_STATE__ = ${JSON.stringify(preloadedState).replace(/</g, '\\\\u003c')}\n      </script>\n      <script src=\"/bundle.js\"></script>\n    </body>\n  </html>\n`\n\nexport default renderFullPage\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/index.html.js\n// module id = 31\n// module chunks = 0","import { fork } from 'redux-saga/effects'\n// import poloniexPrivateSaga from './poloniex-private'\nimport poloniexPublicSaga from './poloniex-public'\nimport statsSaga from './stats'\nimport tradeSaga from './trade'\nimport walletSaga from './wallet'\n\nexport default function* root() {\n  yield [\n    // fork(poloniexPrivateSaga),\n    fork(poloniexPublicSaga),\n    fork(statsSaga),\n    fork(tradeSaga),\n    fork(walletSaga)\n  ]\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/sagas/index.js\n// module id = 32\n// module chunks = 0","import { call, take, put, fork } from 'redux-saga/effects'\nimport { eventChannel } from 'redux-saga'\nimport PoloniexWSS from 'server/services/poloniex.wss'\nimport { orderBookModify, orderBookRemove, newTrade, setCurrency } from 'shared/actions'\nimport { CURRENT_PAIR } from 'const'\n\nconst channel = (session, topic) => eventChannel(emitter => {\n  const sub = session.subscribe(topic, emitter)\n  return () => session.unsubscribe(sub)\n})\n\n/* eslint no-unused-vars: 1 */\nfunction* channelUsdtDash(session) {\n  try {\n    // const currencyPair = yield select(selectCurrentPair)\n    const currChan = yield call(channel, session, CURRENT_PAIR)\n    while (true) {\n      const data = yield take(currChan)\n      /* eslint no-restricted-syntax: 0 */\n      for (const item of data) {\n        if (item.data.type === 'sell' || item.data.type === 'buy') {\n          switch (item.type) {\n            case 'orderBookRemove':\n              yield put(orderBookRemove(item.data))\n              break\n            case 'orderBookModify':\n              yield put(orderBookModify(item.data))\n              break\n            case 'newTrade':\n              yield put(newTrade(item.data))\n              break\n            default:\n              break\n          }\n        }\n      }\n    }\n  } catch (err) {\n    console.log(err)\n  }\n}\n\nfunction* channelTicker(session) {\n  try {\n    const chanTicker = yield call(channel, session, 'ticker')\n    let lastTickerValue = 0\n\n    while (true) {\n      const data = yield take(chanTicker)\n      if (data[0] === CURRENT_PAIR) {\n        if (data[1] !== lastTickerValue) {\n          yield put(setCurrency(data))\n        }\n        lastTickerValue = data[1]\n      }\n    }\n  } catch (err) {\n    console.log(err)\n  }\n}\n\nfunction* bootstrap(session) {\n  yield [\n    fork(channelUsdtDash, session),\n    fork(channelTicker, session)\n  ]\n}\n\nexport default function* poloniexPublicSaga() {\n  try {\n    const session = yield call(PoloniexWSS)\n    yield fork(bootstrap, session)\n  } catch (err) {\n    console.log('WSS Disconnected')\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/sagas/poloniex-public.js\n// module id = 33\n// module chunks = 0","import { select, put, fork, take, throttle } from 'redux-saga/effects'\nimport { setCurrency, addStats, addEstimateRatio, setCurrentFinalResult } from 'shared/actions'\nimport BigNumber from 'bignumber.js'\nimport { cropNumber } from 'server/utils'\nimport { TEN_MINUTES } from 'const'\nimport { selectSellsLastTime, selectBuysLastTime, selectCurrencyPair, selectEstimateRatios, selectLastTenStats, selectThreshold } from './selectors'\nimport { buySaga, sellSaga } from './trade'\n\nconst getRate = i => i[1]\nconst getSumm = (a, b) => a + b\nconst bigToNumber = bn => bn.toNumber()\nconst calcRelativeDynamic = (prev, curr, index) =>\n  index === 1 ?\n    [ [ new BigNumber(curr).div(prev) ], curr ] :\n    [ [ ...prev[0], new BigNumber(curr).div(prev[1]) ], curr ]\n\nconst getRateChange = arr => arr\n  .map(getRate)\n  .reduce(calcRelativeDynamic)[0]\n  .map(bigToNumber)\n  .reduce(getSumm) / arr.length\n\n\nexport function* generateStatsSaga() {\n  const { last } = yield select(selectCurrencyPair)\n  const buys = yield select(selectBuysLastTime, TEN_MINUTES)\n  const sells = yield select(selectSellsLastTime, TEN_MINUTES)\n\n  if (buys.length >= 2 && sells.length >= 2) {\n    // увеличивается - курс поднимают, чем выше, тем активнее поднимают\n    const buyChange = getRateChange(buys)\n    // уменьшается - курс активно сваливают, чем ниже, тем сильнее обваливают,\n    // поднимается - просто торгуют, курс увеличивается\n    const sellChange = getRateChange(sells)\n\n    const currentRate = Number(last)\n\n    yield put(addStats([ currentRate, buyChange, sellChange ]))\n  }\n}\n\nexport function* estimateStatsSaga() {\n  while (true) {\n    yield take(addStats)\n    const lastTenStats = yield select(selectLastTenStats)\n\n    if (lastTenStats.length >= 10) {\n      const buyChangeFinal = lastTenStats.map(v => v[1]).reduce((a, b) => a * b)\n      const sellChangeFinal = lastTenStats.map(v => v[2]).reduce((a, b) => a * b)\n      const finalRatio = sellChangeFinal / buyChangeFinal\n      yield put(addEstimateRatio(finalRatio))\n    }\n  }\n}\n\nexport function* conclusionStatsSaga() {\n  let lastResult\n\n  while (true) {\n    yield take(addEstimateRatio)\n    const { lowestAsk, highestBid } = yield select(selectCurrencyPair)\n    const hold = yield select(selectThreshold)\n    const estimates = yield select(selectEstimateRatios)\n    const result = estimates.reduce((prev, curr) =>\n      (prev[0] <= curr ? [ curr, prev[1] + 1 ] : [ curr, prev[1] - 1 ]),\n      [ 0, 0 ]\n    )[1]\n\n    if ((lastResult >= 9 && result <= 9) || (lastResult >= 2 && result <= 1)) {\n      yield fork(sellSaga, cropNumber(Number(highestBid) - 0.00000001), hold)\n    }\n\n    if ((lastResult <= -9 && result <= -8) || (lastResult <= -2 && result >= 0)) {\n      yield fork(buySaga, cropNumber(Number(lowestAsk) + 0.00000001), hold)\n    }\n\n    yield put(setCurrentFinalResult(result))\n\n    if (lastResult >= 9 && result <= 9) console.log('Идём на спад, продаём', highestBid)\n    if (lastResult >= 2 && result <= 1) console.log('Скоро упадём, продаём?', highestBid)\n\n    if (lastResult <= -9 && result <= -8) console.log('Идём вверх, покупаем', lowestAsk)\n    if (lastResult <= -2 && result >= 0) console.log('Скоро поднимемся, можно купить', lowestAsk)\n\n    lastResult = result\n  }\n}\n\nexport default function* StatsSaga() {\n  yield throttle(5000, setCurrency, generateStatsSaga)\n  yield fork(estimateStatsSaga)\n  yield fork(conclusionStatsSaga)\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/sagas/stats.js\n// module id = 34\n// module chunks = 0","import { call, take, put, select, fork, race } from 'redux-saga/effects'\nimport Poloniex from 'server/services/poloniex'\nimport { cropNumber } from 'server/utils'\nimport { CURRENT_PAIR } from 'const'\n\nimport {\n  selectWallet,\n  selectCurrentPair,\n  selectCurrencyPair,\n  selectUncoveredSells,\n  selectUncoveredBuys\n} from 'server/sagas/selectors'\n\nimport {\n  addBuyChunks,\n  addChunkedCurrency,\n  addSellChunks,\n  botMessage,\n  buyFailure,\n  buySuccess,\n  doBuy,\n  doSell,\n  sellFailure,\n  sellSuccess,\n  sendBuys,\n  sendSells,\n  setCurrency,\n  setFreeCurrencies,\n  updateWallet\n} from 'shared/actions'\n\nconst { ACCOUNT: { key, secret } } = process.env\nexport const poloniex = new Poloniex({ key, secret })\n\nexport function* watchForNewChunks() {\n  const makeChunks = (rate, amount, chunksNum) => {\n    /* eslint no-plusplus: 0 */\n    let quantity = chunksNum\n    const chunks = []\n    while (quantity--) chunks.push([ rate, amount ])\n    return chunks\n  }\n\n  while (true) {\n    const { sellChunks, buyChunks } = yield race({\n      sellChunks: take(sendSells),\n      buyChunks: take(sendBuys)\n    })\n\n    const [ firstCurrency, secondCurrency ] = yield select(selectCurrentPair)\n\n    if (sellChunks) {\n      const { rate, amount, chunksNum } = sellChunks.payload\n      const chunksToSell = makeChunks(rate, amount, chunksNum)\n\n      yield put(addSellChunks(chunksToSell))\n      yield put(addChunkedCurrency([ firstCurrency, amount * chunksNum ]))\n      yield put(botMessage(`Созданы продажи в количестве ${chunksNum} частей по ${amount} ${secondCurrency}`))\n    } else if (buyChunks) {\n      const { rate, amount, chunksNum } = buyChunks.payload\n      const chunksToBuy = makeChunks(rate, amount, chunksNum)\n\n      yield put(addBuyChunks(chunksToBuy))\n      yield put(addChunkedCurrency([ secondCurrency, amount * chunksNum ]))\n      yield put(botMessage(`Созданы покупки в количестве ${chunksNum} частей по ${amount} ${secondCurrency}`))\n    }\n  }\n}\n\nexport function* doBuySaga() {\n  while (true) {\n    try {\n      const { payload: [ rate, amount, coverIndex ] } = yield take(doBuy)\n      const options = { command: 'buy', currencyPair: CURRENT_PAIR, rate, amount }\n      const { response, error } = yield call(poloniex.privateRequest, options)\n\n      response && response.orderNumber ?\n        yield put(buySuccess([ rate, amount, coverIndex, response.orderNumber ])) :\n        yield put(buyFailure([ rate, amount, error || response.error ]))\n    } catch (err) {\n      console.log({ err })\n    }\n  }\n}\n\nexport function* doSellSaga() {\n  while (true) {\n    try {\n      const { payload: [ rate, amount, coverIndex ] } = yield take(doSell)\n      const options = { command: 'sell', currencyPair: CURRENT_PAIR, rate, amount }\n      const { response, error } = yield call(poloniex.privateRequest, options)\n\n      response && response.orderNumber ?\n        yield put(sellSuccess([ rate, amount, coverIndex, response.orderNumber ])) :\n        yield put(sellFailure([ rate, amount, error || response.error ]))\n    } catch (err) {\n      console.log({ err })\n    }\n  }\n}\n\nexport function* getWallet() {\n  const { response } = yield call(poloniex.privateRequest, { command: 'returnBalances' })\n  yield put(updateWallet(response))\n}\n\nexport function* calculateFreeValues() {\n  while (true) {\n    yield take([ setCurrency, sendBuys, sendSells ])\n\n    const [ firstCurrency, secondCurrency ] = yield select(selectCurrentPair)\n    const { last } = yield select(selectCurrencyPair)\n    const wallet = yield select(selectWallet)\n    const uncoveredSells = yield select(selectUncoveredSells)\n    const uncoveredBuys = yield select(selectUncoveredBuys)\n\n    const volumeOfSellChunks = uncoveredSells.reduce((prev, curr) =>\n      (curr[4] === 0 ? prev + curr[2] : prev), 0)\n\n    const volumeOfBuyChunks = uncoveredBuys.reduce((prev, curr) =>\n      (curr[4] === 0 ? prev + curr[2] : prev), 0)\n\n    const firstFreeVolume = cropNumber((wallet[firstCurrency] - volumeOfSellChunks) * last)\n    const secondFreeVolume = cropNumber(wallet[secondCurrency] - volumeOfBuyChunks)\n\n    yield put(setFreeCurrencies([ firstFreeVolume, secondFreeVolume ]))\n  }\n}\n\nexport default function* walletSaga() {\n  yield [\n    fork(getWallet),\n    fork(watchForNewChunks),\n    // fork(calculateFreeValues),\n    fork(doBuySaga),\n    fork(doSellSaga)\n  ]\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/sagas/wallet.js\n// module id = 35\n// module chunks = 0","const HmacSHA512 = require('crypto-js/hmac-sha512')\nconst nonce = require('nonce')()\n\nif (!process.env.BROWSER) {\n  /* eslint global-require: 0 */\n  global.fetch = require('node-fetch')\n}\n\n\nconst keySymbol = Symbol('key')\nconst secretSymbol = Symbol('secret')\n// const PUBLIC_API_URL = 'https://poloniex.com/public'\nconst PRIVATE_API_URL = 'https://poloniex.com/tradingApi'\n\nclass Poloniex {\n  constructor({ key, secret }) {\n    this[keySymbol] = key\n    this[secretSymbol] = secret\n    this.privateRequest = this.privateRequest.bind(this)\n  }\n\n  static toParamsString(props) {\n    const e = encodeURIComponent\n    return Object.keys(props).map(prop => `${e(prop)}=${e(props[prop])}`).join('&')\n  }\n\n  getPrivateHeaders(paramsString) {\n    const signature = HmacSHA512(paramsString, this[secretSymbol]).toString()\n    return {\n      'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8',\n      Key: this[keySymbol],\n      Sign: signature\n    }\n  }\n\n  static request(options) {\n    return fetch(options.url, options)\n      .then(response => response.json().then(json => ({ json, response })))\n      .then(({ json, response }) => {\n        if (!response.ok) return { error: json.error || 'Network response was not ok.' }\n        return { response: json }\n      })\n      .catch(error => ({ error }))\n  }\n\n  privateRequest(props) {\n    const propsWithNonce = Object.assign({}, props, { nonce: nonce(16) })\n    const paramsString = Poloniex.toParamsString(propsWithNonce)\n    const options = {\n      method: 'POST',\n      url: PRIVATE_API_URL,\n      body: paramsString,\n      headers: this.getPrivateHeaders(paramsString)\n    }\n    return Poloniex.request(options)\n  }\n}\n\nmodule.exports = Poloniex\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/services/poloniex.js\n// module id = 36\n// module chunks = 0","import autobahn from 'autobahn'\n\nexport default () => new Promise((resolve, reject) => {\n  const connection = new autobahn.Connection({\n    url: 'wss://api.poloniex.com',\n    realm: 'realm1',\n    use_es6_promises: true,\n    retry_delay_jitter: 1\n  })\n  connection.onopen = resolve\n  connection.onclose = reject\n  connection.open()\n})\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/services/poloniex.wss.js\n// module id = 37\n// module chunks = 0","import { combineReducers } from 'redux'\n\nimport { buy, sell } from './publicLogs'\nimport { myBuys, myFailureBuys, mySells, myFailureSells } from './myOrders'\nimport { wallet, currencies, currentPair, freeCurrencies, stats, statsEstimate, threshold, botMessages, finalCurrentResult } from './wallet'\n\nconst rootReducer = combineReducers({\n  botMessages,\n  buy,\n  currencies,\n  currentPair,\n  finalCurrentResult,\n  freeCurrencies,\n  myBuys,\n  myFailureBuys,\n  myFailureSells,\n  mySells,\n  sell,\n  stats,\n  statsEstimate,\n  threshold,\n  wallet\n})\n\nexport default rootReducer\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./shared/reducers/index.js\n// module id = 38\n// module chunks = 0","/* eslint no-unused-vars: 0 */\nimport { createReducer } from 'redux-act'\nimport { time } from './helpers'\nimport { buySuccess, sellSuccess, addBuyChunks, addSellChunks, sellFailure, buyFailure, removeOpenSells, removeOpenBuys } from '../actions'\n\nexport const myBuys = createReducer({\n  [buySuccess]: (state, [ rate, amount, coverIndex, orderNumber ]) =>\n    [ ...state, [ time(), rate, amount, 0, 0 ] ],\n\n  [sellSuccess]: (state, [ rate, amount, coverIndex, orderNumber ]) => [\n    ...state\n      .filter(v => v[4] === 0)\n      .map((v, i) => i === coverIndex ? [ ...v.slice(0, 3), orderNumber, 1 ] : v),\n    ...state.filter(v => v[4] !== 0)\n  ].sort(),\n\n  [addBuyChunks]: (state, data) => [ ...state, ...data.map(v => [ time(), ...v, -1, 0 ]) ],\n  [removeOpenBuys]: (state) => state.filter(v => v[4] !== 0)\n}, [])\n\n// TODO: хранить транзакции в виде объектов с уникальными id\nexport const mySells = createReducer({\n  [sellSuccess]: (state, [ rate, amount, coverIndex, orderNumber ]) =>\n    [ ...state, [ time(), rate, amount, 0, 0 ] ],\n\n  [buySuccess]: (state, [ rate, amount, coverIndex, orderNumber ]) => [\n    ...state\n      .filter(v => v[4] === 0)\n      .map((v, i) => i === coverIndex ? [ ...v.slice(0, 3), orderNumber, 1 ] : v),\n    ...state.filter(v => v[4] !== 0)\n  ].sort(),\n\n  [addSellChunks]: (state, data) => [ ...state, ...data.map(v => [ time(), ...v, -1, 0 ]) ],\n  [removeOpenSells]: (state) => state.filter(v => v[4] !== 0)\n}, [])\n\nexport const myFailureSells = createReducer({\n  [sellFailure]: (state, data) => [ ...state, [ time(), ...data ] ]\n}, [])\n\nexport const myFailureBuys = createReducer({\n  [buyFailure]: (state, data) => [ ...state, [ time(), ...data ] ]\n}, [])\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./shared/reducers/myOrders.js\n// module id = 39\n// module chunks = 0","import { createReducer } from 'redux-act'\n\nimport { time, removeIndex, mergeOnAmount, getOnlyLast } from './helpers'\nimport { orderBookModify, orderBookRemove, newTrade } from '../actions'\n\nconst TWENTY_MINUTES = 1000 * 60 * 20\n\nexport const buy = createReducer({\n  [newTrade]: (state, { type, rate, amount, total }) =>\n    type === 'buy' ? [ ...state, [ time(), rate, amount, total ] ] : state\n}, [])\n\nexport const sell = createReducer({\n  [newTrade]: (state, { type, rate, amount, total }) =>\n    type === 'sell' ? [ ...state, [ time(), rate, amount, total ] ] : state\n}, [])\n\nexport const ask = createReducer({\n  [newTrade]: (state, { type, rate, amount }) =>\n    type === 'ask' && (state.length > 0 || amount) ?\n      getOnlyLast(mergeOnAmount(state, rate, amount), TWENTY_MINUTES) :\n      state,\n\n  [orderBookModify]: (state, { type, rate, amount }) =>\n    type === 'ask' && (state.length > 0 || amount) ?\n      getOnlyLast(mergeOnAmount(state, rate, amount), TWENTY_MINUTES) :\n      state,\n\n  [orderBookRemove]: (state, { type, rate }) =>\n    type === 'ask' ?\n      removeIndex(state, state.findIndex(e => e[0] === rate)) :\n      state\n}, [])\n\nexport const bid = createReducer({\n  [newTrade]: (state, { type, rate, amount }) =>\n    type === 'bid' && (state.length > 0 || amount) > 0 ?\n      getOnlyLast(mergeOnAmount(state, rate, amount), TWENTY_MINUTES) :\n      state,\n\n  [orderBookModify]: (state, { type, rate, amount }) =>\n    type === 'bid' && (state.length > 0 || amount) > 0 ?\n      getOnlyLast(mergeOnAmount(state, rate, amount), TWENTY_MINUTES) :\n      state,\n\n  [orderBookRemove]: (state, { type, rate }) =>\n    type === 'bid' ?\n      removeIndex(state, state.findIndex(e => e[0] === rate)) :\n      state\n}, [])\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./shared/reducers/publicLogs.js\n// module id = 40\n// module chunks = 0","import { createReducer } from 'redux-act'\nimport { botMessage, setCurrency, setCurrencyPair, addStats, setFreeCurrencies, setThreshold, updateWallet, addEstimateRatio, setCurrentFinalResult } from '../actions'\nimport { time } from './helpers'\n\nconst { ACCOUNT: { pair } } = process.env\n\nexport const wallet = createReducer({\n  [updateWallet]: (state, data) =>\n    Object.keys(data).reduce((prev, key) =>\n      (data[key] !== '0.00000000' ? Object.assign({}, prev, { [key]: data[key] }) : prev), {})\n}, {})\n\nexport const currencies = createReducer({\n  /* eslint max-len: 0 */\n  [setCurrency]: (state, [ currencyPair, last, lowestAsk, highestBid, percentChange, baseVolume, quoteVolume, isFrozen, hrHigh, hrLow ]) =>\n    Object.assign({}, state, {\n      [currencyPair]: { last, lowestAsk, highestBid, percentChange, baseVolume, quoteVolume, isFrozen, hrHigh, hrLow }\n    })\n}, {})\n\nexport const freeCurrencies = createReducer({\n  [setFreeCurrencies]: (state, values) => values\n}, [])\n\nexport const threshold = createReducer({\n  [setThreshold]: (state, value) => value\n}, 0.0001)\n\nexport const currentPair = createReducer({\n  [setCurrencyPair]: state => state\n}, pair)\n\nexport const stats = createReducer({\n  [addStats]: (state, data) => [ ...state, data ]\n}, [])\n\nexport const statsEstimate = createReducer({\n  [addEstimateRatio]: (state, data) => [ ...state, data ]\n}, [])\n\nexport const finalCurrentResult = createReducer({\n  [setCurrentFinalResult]: (state, data) => data\n}, 0)\n\nexport const botMessages = createReducer({\n  [botMessage]: (state, msg) => msg !== state[state.length - 1][1] ?\n    [ ...state, [ time(), msg ] ] :\n    state\n}, [ [ time(), 'Initiated' ] ])\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./shared/reducers/wallet.js\n// module id = 41\n// module chunks = 0","module.exports = require(\"autobahn\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"autobahn\"\n// module id = 42\n// module chunks = 0","module.exports = require(\"crypto-js/hmac-sha512\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"crypto-js/hmac-sha512\"\n// module id = 43\n// module chunks = 0","module.exports = require(\"debounce\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"debounce\"\n// module id = 44\n// module chunks = 0","module.exports = require(\"deep-equal\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"deep-equal\"\n// module id = 45\n// module chunks = 0","module.exports = require(\"node-fetch\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"node-fetch\"\n// module id = 46\n// module chunks = 0","module.exports = require(\"nonce\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nonce\"\n// module id = 47\n// module chunks = 0","module.exports = require(\"pouchdb\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"pouchdb\"\n// module id = 48\n// module chunks = 0","module.exports = require(\"react-dom/server\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-dom/server\"\n// module id = 49\n// module chunks = 0","module.exports = require(\"react-router\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router\"\n// module id = 50\n// module chunks = 0","module.exports = require(\"react-throttle-render\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-throttle-render\"\n// module id = 51\n// module chunks = 0","module.exports = require(\"redux-pouchdb\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux-pouchdb\"\n// module id = 52\n// module chunks = 0","import express from 'express'\nimport createStore from './store'\nimport handleRender from './renderer'\n\nexport const run = worker => {\n  console.log('Worker PID:', process.pid)\n\n  const { httpServer, scServer } = worker\n  const app = express()\n  const store = createStore(scServer)\n\n  app.use(express.static('public', { maxAge: 1000 }))\n  // app.use(express.static('public', { maxAge: 86400000 * 365, index: false }))\n  // app.use(express.static('public', { index: 'index.html' }))\n  app.use(handleRender(store))\n\n  httpServer.on('request', app)\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/worker.js\n// module id = 53\n// module chunks = 0"],"sourceRoot":""}